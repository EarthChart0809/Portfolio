#opening {
  position: relative; /* 追加：内部絶対配置の基準 */
  overflow: hidden;   /* はみ出し防止 */
  /* background-image : url(./image/梅の花.jpg);
      background-size: cover; */
      background : #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      color: #000000;
      font-size: 2.0rem;
      font-family: "ten-mincho", sans-serif;
    }

    #opening .bg-image-left,
    #opening .bg-image-right {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 550px;
      height: auto;
      opacity: 1;
      z-index: 1;
      pointer-events: none;
      animation: fadeInImage 2s, floatImage 4s infinite alternate;
    }

    #opening .bg-image-left {
      left: 0;
    }

    #opening .bg-image-right {
      right: 0;
    }
  
    #opening #title {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      text-align: center;
    }

    #opening .ume-flower-frame {
      position: absolute;
      width: 285.5px;
      height: 285.5px;
      border-radius: 50%;
      border: 25px solid #000000;
      box-sizing: border-box;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeIn 1.5s;
    }

    #opening .ume-flower {
      position: absolute;
      left: 20px; top: 20px;
      width: 200px;
      height: 200px;
    }

    #opening .petal {
      position: absolute;
      width: 60px;
      height: 60px;
      background: #000000;
      border-radius: 50%;
      box-shadow: 0 0 10px #ccc;
      opacity: 0;
      animation: petalAppear 1s forwards;
    }

    #opening .center-pentagon {
      position: absolute;
      left: 70px; top: 75px;
      width: 60px; height: 60px;
      background: #000000;
      clip-path: polygon(
        50% 20%,
        90% 48%,
        74% 92%,
        26% 92%,
        10% 48%
      );
      box-shadow: 0 0 8px #bbb;
      opacity: 0;
      z-index: 10;
      animation: petalAppear 1s forwards;
      animation-delay: 1.2s;
    }

    #opening .center-circle {
      position: absolute;
      left: 87px; top: 87px;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      border: 1.75px solid #fff;
      box-sizing: border-box;
      background: transparent;
      z-index: 20;
      opacity: 0;
      animation: petalAppear 1s forwards;
      animation-delay: 1.4s;
    }
  
    #opening .bounce {
      display: inline-block;
      opacity: 0; /* 最初は透明 */
      animation: bounce 1s ease forwards;
      animation-iteration-count: 1; /* 明示的に1回 */
    }

    #opening line {
      stroke-dasharray: 20;
      stroke-dashoffset: 20;
      animation: drawLine 0.8s forwards;
      animation-delay: 2.25s; /* 線の表示タイミング調整（必要なら変更） */
    }

    /* アニメーションはグローバルでOK */
    @keyframes fadeInImage {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    /* @keyframes floatImage {
      from { transform: translateY(-50%) scale(1); }
      to   { transform: translateY(-60%) scale(1.03); }
    } */

    @keyframes drawLine {
      to { stroke-dashoffset: 0; }
    }

    @keyframes petalAppear {
      from { opacity: 0; transform: rotate(180deg) scale(0.5);}
      to { opacity: 1; transform: rotate(180deg) scale(1.30);}
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes bounce {
      0% {
        transform: translateY(0);
        opacity: 0;
      }
      30% {
        transform: translateY(-40px); /* 高さを大きめに */
        opacity: 1;
      }
      60% {
        transform: translateY(10px);
      }
      80% {
        transform: translateY(-5px);
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* タブレット対応（768px以下） - 改善（中央固定・比率指定） */
@media (max-width: 768px) {
  #opening .bg-image-left,
  #opening .bg-image-right {
    width: clamp(120px, 22vw, 300px);
    opacity: 0.7;
  }

  #opening .ume-flower-frame {
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: clamp(180px, 40vw, 280px);
    height: clamp(180px, 40vw, 280px);
    border-width: clamp(8px, 2.5vw, 20px);
    box-sizing: border-box;
    z-index: 5;
  }

  /* 花（描画はJSで行われるため位置は必ず中央に寄せる） */
  #opening .ume-flower {
    position: absolute;
    left: 50%;
    top: 50%;
    width: clamp(160px, 34vw, 200px); /* JSの既定(200px)を目安に可変 */
    height: clamp(160px, 34vw, 200px);
    transform: translate(-50%, -50%);
  }

  /* 中心五角形・円・線は中央基準に */
  #opening .center-pentagon,
  #opening .center-circle,
  #opening .center-lines {
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
  }

  #opening .center-pentagon {
    width: clamp(28px, 6.5vw, 60px);
    height: clamp(28px, 6.5vw, 60px);
  }

  #opening .center-circle {
    width: clamp(12px, 3.2vw, 25px);
    height: clamp(12px, 3.2vw, 25px);
    border-width: clamp(0.8px, 0.25vw, 1.75px);
  }

  #opening .petal {
    width: clamp(28px, 7.5vw, 60px);
    height: clamp(28px, 7.5vw, 60px);
  }

  #opening #title {
    font-size: clamp(1rem, 2.4vw, 1.2rem);
    bottom: 6px;
  }
}

/* スマホ対応（480px以下） - 改善（中央固定・小画面最適化） */
@media (max-width: 480px) {
  #opening .bg-image-left,
  #opening .bg-image-right {
    width: clamp(80px, 30vw, 140px);
    opacity: 0.5;
  }

  #opening .ume-flower-frame {
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: clamp(140px, 48vw, 220px);
    height: clamp(140px, 48vw, 220px);
    border-width: clamp(6px, 2.2vw, 16px);
    box-sizing: border-box;
    z-index: 5;
  }

  #opening .ume-flower {
    position: absolute;
    left: 50%;
    top: 50%;
    width: clamp(120px, 42vw, 180px);
    height: clamp(120px, 42vw, 180px);
    transform: translate(-50%, -50%);
  }

  #opening .center-pentagon {
    width: clamp(22px, 5.5vw, 50px);
    height: clamp(22px, 5.5vw, 50px);
  }

  #opening .center-circle {
    width: clamp(10px, 2.5vw, 20px);
    height: clamp(10px, 2.5vw, 20px);
    border-width: 0.7px;
  }

  #opening .petal {
    width: clamp(18px, 10vw, 48px);
    height: clamp(18px, 10vw, 48px);
  }

  #opening .center-pentagon,
  #opening .center-circle,
  #opening .center-lines {
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
  }

  #opening #title {
    font-size: 0.9rem;
    bottom: 4px;
  }
}