<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Opening Animation - 梅の花</title>

    <script>
        (function(d) {
            var config = {
            kitId: 'arw6slj',
            scriptTimeout: 3000,
            async: true
        },
        h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  
  <style>
    body {
      /* background-image : url(./image/梅の花.jpg);
      background-size: cover; */
      background : #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      color: #000000;
      font-size: 2.0rem;
      font-family: "ten-mincho", sans-serif;
    }

    .bg-image-left, .bg-image-right {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 550px; /* お好みで調整 */
      height: auto;
      opacity: 1; /* 透過で背景らしく */
      z-index: 1;
      pointer-events: none;
      animation: fadeInImage 2s, floatImage 4s infinite alternate;
    }

    .bg-image-left {
      left: 0;
    }

    .bg-image-right {
      right: 0;
    }
  
    #title {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      text-align: center;
    }

    .ume-flower-frame {
      position: absolute;
      width: 285.5px;
      height: 285.5px;
      border-radius: 50%;
      border: 25px solid #000000;
      box-sizing: border-box;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeIn 1.5s;

    }
    .ume-flower {
      position: absolute;
      left: 20px; top: 20px;
      width: 200px;
      height: 200px;
    }
    .petal {
      position: absolute;
      width: 60px;
      height: 60px;
      background: #000000;
      border-radius: 50%;
      box-shadow: 0 0 10px #ccc;
      opacity: 0;
      animation: petalAppear 1s forwards;
    }
    .center-pentagon {
      position: absolute;
      left: 70px; top: 75px;
      width: 60px; height: 60px;
      background: #000000;
      clip-path: polygon(
        50% 20%,   /* 上頂点を下げる */
        90% 48%,   /* 右上頂点を中央寄りに */
        74% 92%,   /* 右下頂点を中央寄りに */
        26% 92%,   /* 左下頂点を中央寄りに */
        10% 48%    /* 左上頂点を中央寄りに */
      );
      box-shadow: 0 0 8px #bbb;
      opacity: 0;
      z-index: 10;
      animation: petalAppear 1s forwards;
      animation-delay: 1.2s;
    }

    .center-circle {
      position: absolute;
      left: 87px; top: 87px; /* center-pentagonの中心に合わせて調整 */
      width: 25px;
      height: 25px;
      border-radius: 50%;
      border: 1.5px solid #fff;
      box-sizing: border-box;
      background: transparent;
      z-index: 20;
      opacity: 0;
      animation: petalAppear 1s forwards;
      animation-delay: 1.4s;
    }
  
    .bounce {
      display: inline-block;
      opacity: 0; /* 最初は透明 */
      animation: bounce 1s ease forwards;
      animation-iteration-count: 1; /* 明示的に1回 */
    }

    line {
      stroke-dasharray: 20;
      stroke-dashoffset: 20;
      animation: drawLine 0.8s forwards;
      animation-delay: 2.25s; /* 線の表示タイミング調整（必要なら変更） */
    }

    /* 画像のフェードイン */
    @keyframes fadeInImage {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    /* 画像がふわふわ上下に動く
    @keyframes floatImage {
      from { transform: translateY(-50%) scale(1); }
      to   { transform: translateY(-60%) scale(1.03); }
    } */

    @keyframes drawLine {
      to { stroke-dashoffset: 0; }
    }

    @keyframes petalAppear {
      from { opacity: 0; transform: rotate(180deg) scale(0.5);}
      to { opacity: 1; transform: rotate(180deg) scale(1.20);}
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes bounce {
      0% {
        transform: translateY(0);
        opacity: 0;
      }
      30% {
        transform: translateY(-40px); /* 高さを大きめに */
        opacity: 1;
      }
      60% {
        transform: translateY(10px);
      }
      80% {
        transform: translateY(-5px);
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <img src="./image/suibokuga_left.png" alt="左背景" class="bg-image-left">
  <img src="./image/suibokuga_right.png" alt="右背景" class="bg-image-right">
  <div class="ume-flower-frame">
    <div class="ume-flower" id="umeFlower">
      <div class="center-pentagon"></div>
      <div class="center-circle"></div> 
      <svg class="center-lines" width="60" height="60" style="position:absolute; left:75px; top:75px; z-index:25; pointer-events:none;">
  <g id="lines-group"></g>
</svg>
    </div>
  </div>
    <h1 id="title"></h1>

  <script>
    const circleCx = 24.5, circleCy = 24.5, radius = 15;
    const lineLength = 12; // 線の長さ（外側に出す）

    const linesGroup = document.getElementById('lines-group');
    for(let i=0; i<10; i++){
      // 正十角形の頂点角度
      const angle = (2 * Math.PI / 10) * i - Math.PI/2.5;
      // 円周上の頂点座標
      const x1 = circleCx + radius * Math.cos(angle);
      const y1 = circleCy + radius * Math.sin(angle);
      // 外側の端点（垂直方向に外へ）
      const x2 = circleCx + (radius + lineLength) * Math.cos(angle);
      const y2 = circleCy + (radius + lineLength) * Math.sin(angle);
      // SVG線要素
      const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
      line.setAttribute("x1", x1);
      line.setAttribute("y1", y1);
      line.setAttribute("x2", x2);
      line.setAttribute("y2", y2);
      line.setAttribute("stroke", "#fff");
      line.setAttribute("stroke-width", "2");
      linesGroup.appendChild(line);
    }

    // 正五角形の頂点座標を計算して丸を配置
    const flower = document.getElementById('umeFlower');
    const cx = 100, cy = 100; // 中心座標
    const r = 70; // 頂点までの半径
    for(let i=0; i<5; i++){
      const angle = (2 * Math.PI / 5) * i - Math.PI/2;
      const x = cx + r * Math.cos(angle) - 30; // 30はpetalの半径
      const y = cy + r * Math.sin(angle) - 30;
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = x + 'px';
      petal.style.top = y + 'px';
      petal.style.animationDelay = (0.2 + i*0.2) + 's';
      flower.appendChild(petal);
    }

    const text = "EarthChart's Portfolio";
    const title = document.getElementById("title");

    text.split("").forEach((char, i) => {
      const span = document.createElement("span");
      span.textContent = char;
      span.classList.add("bounce");
      span.style.animationDelay = `${i * 0.15}s`; // 左から順番に
      title.appendChild(span);
    });

  </script>
</body>
</html>